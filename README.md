# 无火的牌局

## 出牌系统

- （核心机制！）游戏开始时，摸五张牌。然后开始第一个回合。回合开始阶段，触发对应效果。摸牌阶段，如果没有对应效果，摸一张牌。每回合可以打出一张牌，这张牌移出手牌，进入队列最右边。最左边超出队列长度的移出队列。然后从左到右依次触发队列中能够触发的卡牌效果。然后回合结束，触发对应效果。如果敌人生命值小于等于零，胜利。否则开始下一个回合。

## 游戏模式

游戏提供两种不同的游戏模式：

### 地图探索模式

在地图探索模式中，玩家通过探索节点地图选择不同的路径，遭遇各种敌人、事件、商店和休息点。

- 每层地图包含多种节点类型（敌人、BOSS、商店、休息点等）
- 玩家可以自由选择探索路径
- 完成一层后进入下一层，难度逐渐提升
- 通过最终BOSS后完成游戏

### 随机Rogue模式

随机Rogue模式提供更具挑战性的游戏体验，玩家需要在带有全局debuff效果的关卡中挑战一系列敌人。

- 每个关卡都有独特的全局debuff效果，增加游戏难度和策略性
- 关卡内线性安排多个敌人，包括普通敌人和一个BOSS
- 击败每个敌人后进入商店，购买道具增强实力
- 完成一个关卡后进入下一个关卡，难度逐渐提升
- 关卡debuff效果待设计。

## 敌人挑战系统

开始游戏后，玩家逐个遭遇敌人，敌人分为"小怪"和"BOSS"。要击败敌人需要在限制的出牌次数内达到要求的初火碎片。

BOSS还有特殊debuff。例子：

- 每三轮会使用"祈祷"，使你下一轮无法使用魔法牌
- 每轮开始时，随机一张手牌被标记，若未在该轮使用则受到10点伤害
- 每第五轮，所有手牌倍率减半
- 每次打出王印后，手牌区域暂时被封印一轮
- 随机改变牌的数值，增加组合难度

## 商店道具系统

击败一个敌人后，获得一定灵魂，然后进入商店。从商店离开后遭遇下一个敌人。

### 牌堆修改

例子：

- **锻造**：将几张普通牌升级为强化牌
- **星宿**：加入一张特殊卡牌
- **黑矢**：删除几张不需要的牌

### 消耗型道具

例子：

- **火焰卷轴**：临时增加顺子组合50%倍率，持续3轮
- **日光皂石**：预见接下来将摸到的3张牌
- **人性碎片**：一次重新排列所有手牌的机会
- **净化宝珠**：移除一张带有负面效果的牌

### 永久升级

例子：

- **刻印精通**：永久提升刻子组合的筹码值(+5)和倍率(+0.3)
- **灵魂链接**：每完成3次魂链，获得一次额外行动
- **火之传承**：每回合首次组合获得额外25%得分
- **魂之容器**：增加最大生命值上限，提升生存能力

### 被动效果道具

例子：

- **守护之戒**：每回合一次，可以保护一张牌不被敌人效果影响
- **猎龙戒指**：增加10%对龙系敌人的得分
- **咒缚戒指**：可以将一张牌暂时锁定，延迟其效果到下一轮触发
- **混沌戒指**：每轮牌组中随机加入两张混沌牌
- **深渊戒指**：允许进入隐藏深渊区域而不受伤害，但得分降低25%

## GameManager 功能说明

### 核心功能
- 管理游戏全局状态(玩家回合、敌人回合、商店等)
- 处理玩家数据(生命值、货币等)
- 管理敌人系统
- 处理商店系统
- 管理地图进度

### 主要接口

#### 场景管理系统
```gdscript
# 切换到新主场景
func switch_to_scene(scene_resource)

# 添加子场景
func add_subscene(parent_node, scene_resource, scene_name)

# 移除场景
func remove_scene(scene_name)

# 获取活动场景
func get_scene(scene_name)

# 显示/隐藏场景
func set_scene_visibility(scene_name, visible_state)
```

#### 敌人数据管理
```gdscript
# 设置敌人数据
func set_enemy_data(enemy_data)

# 更新敌人UI
func update_enemy_ui()

# 加载敌人数据
func load_enemy_by_id(enemy_id: String)

# 获取随机敌人
func get_random_enemy(is_elite: bool)

# 获取随机Boss
func get_random_boss()
```

#### 商店系统
```gdscript
# 进入商店
func enter_shop()

# 离开商店  
func leave_shop()

# 加载商店物品(从JSON)
func load_shop_items()

# 购买商店物品
func purchase_shop_item(item_index: int) -> bool

# 获取当前商店物品
func get_shop_items() -> Array

# 获取玩家货币
func get_player_currency() -> int
```

#### 游戏流程控制
```gdscript
# 进入游戏
func initialize_game()

# 生成敌人
func spawn_next_enemy()

# 处理胜利奖励
func process_victory_rewards()

# 处理失败
func process_defeat()
```

#### 地图系统
```gdscript
# 保存地图状态
func save_map_state(map_state)

# 获取地图状态
func get_map_state()

# 处理地图节点事件
func handle_map_node_event(node_type, node_data)
```

### 数据管理
- 玩家数据存储在`player_data`字典中
- 商店物品数据从`res://data/shop_items.json`加载
- 敌人数据从`res://data/enemies.json`加载

### 信号系统
```gdscript
# 敌人被击败时触发
signal enemy_defeated

# 游戏结束时触发(参数win表示是否胜利)
signal game_over(win)

# 请求进入商店时触发
signal enter_shop_requested

# 请求返回游戏时触发
signal return_to_game_requested
```

### 游戏状态枚举
```gdscript
enum GameState {
	PLAYER_TURN,    # 玩家回合
	ENEMY_TURN,     # 敌人回合
	SHOP,           # 商店状态
	GAME_OVER       # 游戏结束
}
```
### 关于切换场景

```gdscript
	# 使用统一的添加子场景方法  
	var parent = get_tree().current_scene  
	var enemy_select_instance = add_subscene(parent, enemy_select_scene, "EnemySelectScene")  
	if not enemy_select_instance:  
		push_error("无法创建敌人选择场景")  
		return 
```
- 由于项目把Main作为root下的主节点，所以需要使用get_tree().current_scene获取当前场景，然后使用add_subscene方法添加子场景。
- 由于add_subscene方法返回的是一个引用，所以可以判断是否创建成功。
- 由于add_subscene方法是异步的，所以需要在下一帧调用get_tree().change_scene方法切换场景。

## 地图系统

### 核心组件

1. **节点地图场景（node_map_scene）**:
   - 管理整个地图的显示和交互
   - 生成随机地图布局
   - 处理玩家在地图上的进度

2. **地图节点（map_node）**:
   - 表示地图上的各种地点（敌人、商店、休息点等）
   - 管理节点状态（锁定、可用、已访问、当前）
   - 处理玩家交互

3. **地图连接线（map_edge）**:
   - 显示节点之间的连接关系
   - 根据可用性和访问状态改变外观

### 数据结构

1. **节点类型枚举（NodeType）**:
   - START: 起点节点
   - ENEMY: 普通敌人节点
   - ELITE: 精英敌人节点
   - SHOP: 商店节点
   - REST: 休息节点
   - TREASURE: 宝箱节点
   - EVENT: 事件节点
   - BOSS: Boss节点
   - END: 终点节点

2. **节点状态枚举（NodeState）**:
   - LOCKED: 锁定状态，玩家无法访问
   - AVAILABLE: 可用状态，玩家可以访问
   - VISITED: 已访问状态
   - CURRENT: 当前位置

3. **地图状态数据**:
   - current_floor: 当前楼层
   - current_node_id: 当前节点ID
   - nodes_state: 所有节点的状态信息

### 主要功能

1. **地图生成**:
   - 分层生成节点，每层有预定数量的节点
   - 随机决定每个节点的类型
   - 创建节点间的连接关系，确保路径合理性

2. **地图导航**:
   - 玩家只能访问从当前节点可达的节点
   - 访问节点后更新状态，并解锁新的可访问节点
   - 显示路径可用性（高亮或变暗）

3. **节点交互**:
   - 不同节点类型触发不同的游戏内容（战斗、商店、事件等）
   - 完成节点内容后返回地图继续探索
   - 到达Boss节点并击败后完成当前楼层

4. **状态保存**:
   - 保存玩家在地图上的进度
   - 在不同场景（战斗、商店）间切换时保持地图状态
   - 在完成楼层后重置地图状态，进入新楼层

### 集成方式

1. **与游戏管理器的集成**:
   - 在GameManager中添加地图状态保存和获取功能
   - 添加处理地图节点事件的方法
   - 管理楼层进度和玩家数据
   - 添加地图模式入口
   - 处理在地图和其他场景（战斗、商店）之间的切换
   - 管理地图完成和楼层转换

### 可扩展性考虑

1. **节点类型扩展**:
   - 可以轻松添加新的节点类型，如特殊事件、挑战等
   - 每种节点类型可以有多种变体

2. **地图生成算法改进**:
   - 可以实现不同的地图生成策略（更随机、更线性等）
   - 可以根据游戏进度增加难度

3. **UI优化**:
   - 添加缩放和平移功能
   - 实现小地图或全局视图
   - 添加更多视觉效果提升游戏体验 

### 开发说明

本项目使用Godot引擎开发，主要文件结构：

- **scenes/**：游戏场景文件
- **scripts/**：游戏脚本
- **assets/**：游戏资源
- **data/**：游戏数据（卡牌、敌人等）

## 贡献

欢迎所有形式的贡献，包括问题报告、功能请求和代码贡献。

## 待办

- [ ] 完成README.md
- [x] 修复MainMenu的bug
- [x] 修复GameManager的bug
- [x] 创建地图系统
- [ ] 修复BattleManager的bug
- [ ] godot引擎调整场景ui
- [x] 实现游戏艺术设计文档（见docs/艺术设计指南.md和docs/艺术设定稿.md）
- [ ] 实现艺术资源
  - [x] 创建着色器系统
  - [ ] 实现卡牌纹理重设计
  - [ ] 实现用户界面升级
  - [ ] 实现场景与角色美术
  - [ ] 实现特效系统
  - [ ] 实现音频系统
- [ ] ...

2025.3.25 MainMenu前所有bug已修复。已生成占位.png资源文件。MainMenu的bug已修复，牌堆和手牌正常运行。

2025.4.5 完成地图系统的基本功能，包括节点生成、节点交互、节点状态保存、节点类型扩展等。已完成地图系统的基本功能。

2025.4.10 创建游戏艺术设计文档，包括多种艺术风格的实现方法和针对本项目的视觉设计建议。

2025.6.30 实现了卡牌队列和组合系统，实现了以下功能：
- 新增了CardQueueDropzone类，用于管理打出的卡牌队列
- 实现了队列满时自动移除最早打出的卡牌
- 添加了打出选中卡牌的功能，可通过点击选中卡牌后点击打出按钮来打出卡牌
- 实现了队列内卡牌的各种组合计算功能（灰烬、魂组、魂链、刻印、王印）
- 完善了卡牌数据系统，支持卡牌类型、花色、点数等属性
- 添加了组合评分系统，可以计算各种组合的得分
- 卡牌可以多次参与不同组合，增加了策略性
- 添加了特殊卡牌效果系统的基础框架

## 艺术资源实现计划

根据艺术设定稿，我们需要实现以下游戏视觉资源，以实现哥特式暗黑写实风格的游戏氛围。

### 卡牌资源
- [x] 基础卡牌占位图 - 已完成
- [x] 特殊卡牌初步设计 - 已完成部分特殊卡牌（黑火牌、龙契牌、暗月牌等）
- [x] 卡牌老旧质感着色器 - 已实现card_worn.gdshader和3种老旧效果材质预设
- [ ] 中世纪手抄本式卡牌设计升级
  - [ ] 羊皮纸纹理底纹 - 计划实现parchment_texture.png（512x512, 可平铺）
  - [ ] 哥特式装饰边框 - 计划实现gothic_frame.png（1024x1024, PNG透明背景）
  - [ ] 手绘风格符号重设计 - 计划分别重新设计四种花色的符号

### 界面资源
- [x] 基础背景设计 - 已实现简单背景
- [ ] 主菜单UI重设计
  - [ ] 篝火场景元素 - 计划实现bonfire_scene.png（1920x1080, 全屏背景）
  - [ ] 哥特式菜单框架 - 计划实现menu_frame.png（800x600, PNG透明背景）
  - [ ] 石刻按钮风格设计 - 计划实现stone_button.png（3态：normal, hover, pressed）
- [ ] 战斗界面升级
  - [ ] 羊皮纸战场设计 - 计划实现battle_parchment.png（1024x768, 中心区域）
  - [ ] 古老卷轴信息显示 - 计划实现scroll_info.png（512x256, 带透明度）
  - [ ] 炼金风格仪表盘 - 计划实现alchemy_gauge.png（256x256, 圆形设计）
- [ ] 商店界面
  - [ ] 中世纪市集场景 - 计划实现shop_medieval.png（1920x1080, 全屏背景）
  - [ ] 神秘商人角色 - 计划实现merchant.png（512x512, 角色立绘）
  - [ ] 古董展示架 - 计划实现shop_display.png（800x400, 货架设计）
- [x] 地图界面基础实现 - 已完成基础地图背景和节点
- [ ] 地图界面升级
  - [ ] 中世纪风格地图 - 计划实现medieval_map.png（1024x1024, 老旧地图纸）
  - [ ] 标志性建筑图标 - 计划实现map_icons.png（精灵图集, 各类节点图标）

### 角色与敌人设计
- [x] 基础敌人占位图 - 已有简单敌人图像
- [ ] 不死士兵敌人设计 - 计划实现undead_soldier.png（512x512, 6帧动画）
- [ ] 神职人员敌人设计 - 计划实现twisted_cleric.png（512x512, 6帧动画）
- [ ] 野兽类敌人设计 - 计划实现beast_enemy.png（512x512, 8帧动画）
- [ ] 精英敌人设计 - 计划实现三种精英敌人（骑士、法师、畸变）
- [ ] BOSS设计 - 计划实现三种BOSS（巨龙、王者、深渊生物）
- [ ] 玩家角色形象 - 计划实现player_undead.png（256x512, 8帧动画）

### 场景设计
- [x] 基础战斗背景 - 已有简单背景
- [ ] 多样化战斗场景
  - [ ] 城堡/要塞场景 - 计划实现castle_scene.png（1920x1080, 全屏背景）
  - [ ] 教堂/大教堂场景 - 计划实现cathedral_scene.png（1920x1080, 全屏背景）
  - [ ] 地下墓穴场景 - 计划实现crypt_scene.png（1920x1080, 全屏背景）
  - [ ] 沼泽/毒区场景 - 计划实现swamp_scene.png（1920x1080, 全屏背景）
  - [ ] 火焰区域场景 - 计划实现fire_scene.png（1920x1080, 全屏背景）
- [ ] 商店场景变体 - 计划实现3种不同的商店场景背景
- [ ] 休息区域场景 - 计划实现2种休息区域背景

### 特效设计
- [x] 基础卡牌高亮效果 - 已完成
- [x] 卡牌着色器系统 - 已实现多种卡牌效果着色器
  - [x] 卡牌老旧效果(card_worn.gdshader) - 已实现
  - [x] 卡牌发光效果(card_glow.gdshader) - 已实现
  - [x] 卡牌黑火效果(card_burn.gdshader) - 已实现
  - [x] 卡牌灵魂火效果(card_soulfire.gdshader) - 已实现
- [ ] 卡牌组合特效
  - [ ] 灰烬效果（灰烬飘散）- 计划实现ash_effect.tres（粒子系统预设）
  - [ ] 魂组效果（灵魂纽带）- 计划实现soul_pair_effect.tres（线条材质预设）
  - [ ] 魂链效果（发光链条）- 计划实现soul_chain_effect.tres（着色器材质预设）
  - [ ] 刻印效果（共振光圈）- 计划实现mark_effect.tres（径向波纹效果预设）
  - [ ] 王印效果（王权徽记）- 计划实现king_mark_effect.tres（复合粒子系统预设）
- [x] 后处理系统 - 已实现post_processing.gdshader和视觉效果管理系统
- [ ] 环境动画效果 - 计划添加不同场景的氛围粒子效果

### 音效与音乐
- [ ] 背景音乐 - 计划添加5种背景音乐（详见assets/audio/audio_readme.md）
  - [ ] 主菜单忧郁弦乐 - menu_theme.ogg
  - [ ] 普通战斗音乐 - battle_normal.ogg
  - [ ] 精英战斗音乐 - battle_elite.ogg
  - [ ] BOSS战专属主题 - battle_boss.ogg
  - [ ] 商店场景音乐 - shop_theme.ogg
- [ ] 卡牌音效 - 计划添加5种基础卡牌音效和7种特殊卡牌音效
- [ ] 战斗音效 - 计划添加7种战斗相关音效
- [ ] 环境音效 - 计划添加5种环境背景音效
- [ ] 界面音效 - 计划添加5种基础UI操作音效

### 着色器与材质特效
- [x] 卡牌老旧效果着色器 - 已实现card_worn.gdshader和相关材质
- [x] 卡牌发光效果着色器 - 已实现card_glow.gdshader和增强版
- [x] 火焰粒子着色器 - 已实现particle_fire.gdshader
- [x] 后处理效果着色器 - 已实现post_processing.gdshader
- [x] UI按钮着色器 - 已实现ui_button.gdshader和ui_panel.gdshader
- [x] 效果管理系统 - 已实现card_effect_manager.gd、ui_effect_manager.gd和效果应用系统
- [x] 新增着色器计划:
  - [x] 灵魂粒子着色器 - 计划实现particle_soul.gdshader
  - [x] 水晶效果着色器 - 计划实现crystal_effect.gdshader
  - [x] 血液效果着色器 - 计划实现blood_effect.gdshader
  - [x] 雾气效果着色器 - 计划实现fog_effect.gdshader

### 纹理效果素材
- [x] 羊皮纸纹理 - 已实现parchment_texture.tres（512x512, 可平铺纹理）
- [x] 噪点纹理 - 已实现卡牌老旧效果所需的损坏纹理(noise_damage.png)
- [x] 哥特式卡牌边框 - 已实现gothic_frame.tres（1024x1024, 具有精美边框装饰）
- [x] 重设计的四种花色 - 已实现suit_spades.tres、suit_hearts.tres、suit_diamonds.tres、suit_clubs.tres
- [ ] 灰烬颗粒 - 计划添加用于卡牌灰烬效果
- [ ] 光晕贴图 - 计划添加用于发光效果

### 实现进度
- 2025.4.15 添加了艺术资源实现计划，明确了视觉风格方向和资源需求
- 2025.4.20 完成了部分卡牌设计升级，实现了哥特风格的卡牌边框设计
- 2025.4.25 实现了基础的卡牌着色器特效，增加了老旧纸张质感
- 2025.5.05 完成了主菜单UI重设计，增加了篝火元素和石刻风格按钮
- 2025.5.10 创建了四种关键着色器：卡牌老旧效果(card_aged.gdshader)、卡牌发光效果(card_glow.gdshader)、全局后处理(post_processing.gdshader)和火焰粒子(particle_fire.gdshader)
- 2025.5.12 创建了纹理资源列表(textures_readme.md)和音频资源列表(audio_readme.md)，明确了所有需要实现的资源
- 2025.5.15 完成了卡牌老旧效果着色器(card_worn.gdshader)的实现，创建了三种不同磨损程度的材质预设(card_worn.tres, card_worn_light.tres, card_worn_heavy.tres)
- 2025.5.20 完成了后处理系统的升级，添加了视觉效果管理器(VisualEffectsManager)，支持多种预设效果和场景类型自适应
- 2025.5.25 实现了卡牌的黑火效果(card_burn.gdshader)和灵魂火效果(card_soulfire.gdshader)着色器，丰富了卡牌视觉表现
- 2025.5.30 完成了UI着色器系统(ui_button.gdshader, ui_panel.gdshader)，为界面元素增添了哥特风格的石质纹理和老旧效果
- 2025.6.05 创建了视觉效果系统使用指南(docs/visual_effects_guide.md)，详细说明了后处理效果的使用方法和预设选项
- 2025.6.10 完成了效果管理系统的集成，创建了卡牌效果管理器(card_effect_manager.gd)和UI效果管理器(ui_effect_manager.gd)，实现了效果的统一管理和应用
- 2025.6.15 创建了效果系统演示场景(scenes/demos/effect_system_demo.tscn)，用于测试和展示各种视觉效果
- 2025.6.20 制作了完整的效果系统使用指南文档(docs/effect_system_guide.md)，帮助开发者理解和使用效果系统
- 2025.6.25 创建了三种核心纹理资源：羊皮纸纹理底纹(parchment_texture.tres)、哥特式卡牌边框(gothic_frame.tres)和重设计的四种花色符号(suit_*.tres)，为卡牌设计提供了基础视觉素材，这些素材具有哥特式的暗黑风格，符合游戏整体的美术风格定位。
- 2025.6.30 实现了卡牌队列和组合系统，包括：CardQueueDropzone类、组合计算系统、卡牌选中和打出功能。

### 资源需求列表
以下是完成艺术资源实现计划所需的关键素材列表，按优先级排序：

1. **核心卡牌资源**
   - 羊皮纸纹理底纹 (parchment_texture.png)
   - 哥特式卡牌边框 (gothic_frame.png)
   - 重设计的四种花色符号

2. **界面核心资源**
   - 篝火场景主菜单背景 (bonfire_scene.png)
   - 哥特式菜单框架 (menu_frame.png)
   - 石刻按钮三态 (stone_button.png)

3. **战斗场景资源**
   - 羊皮纸战场底纹 (battle_parchment.png)
   - 城堡/教堂/墓穴场景背景（优先级最高的三个）

4. **敌人资源**
   - 不死士兵/神职人员/野兽敌人（优先级最高的三个）
   - 第一个BOSS设计（巨龙）

5. **音频资源**
   - 主菜单音乐和战斗音乐（优先级最高的两个）
   - 基础卡牌操作音效（抽牌、出牌等）

后续资源将根据游戏开发进度逐步添加。所有资源规格和详细需求已在各自的文档中说明(textures_readme.md和audio_readme.md)。

## 卡牌队列与组合系统

### 核心功能

我们实现了游戏的核心机制：卡牌队列和组合计算系统。该系统允许玩家：

1. **选中并打出卡牌**：
   - 通过点击选中手牌中的一张卡牌
   - 点击"打出选中牌"按钮将其加入队列

2. **队列管理**：
   - 队列最多容纳5张卡牌
   - 当队列满时，最早加入的卡牌会被移除
   - 队列中的卡牌会按顺序排列显示

3. **组合计算**：
   - 系统会自动计算队列中所有可能的卡牌组合
   - 同一张卡牌可以参与多个不同的组合
   - 组合类型包括：灰烬、魂组、魂链、刻印和王印
   - 计算队列总分 = 所有组合分数之和 × 倍率

4. **特殊卡牌效果**：
   - 黑火牌：使组合分数翻倍，但结算后永久烧毁，并对玩家造成伤害
   - 龙契牌：打出后行动次数+1，但下回合开始时手牌上限-1
   - 锻造石牌：打出后此牌不移除，可再次使用，但每次使用后降低筹码值

### 技术实现

1. **CardQueueDropzone类**：
   - 继承自CardDropzone，专门管理队列
   - 实现了队列满时自动移除最旧卡牌的逻辑
   - 包含组合评估算法，计算所有可能的组合

2. **组合判定算法**：
   - _is_same_value()：检查是否为相同点数的卡牌
   - _is_consecutive_same_suit()：检查是否为连续同花色的卡牌
   - 针对每种组合类型实现了专门的检测逻辑

3. **战斗场景扩展**：
   - 添加了卡牌选中功能
   - 添加了打出卡牌按钮
   - 显示队列得分信息

4. **战斗管理器整合**：
   - 处理卡牌选中状态
   - 管理行动次数限制
   - 更新游戏状态和UI

### 组合类型与分数

| 组合类型 | 描述 | 基础分数 |
|---------|------|---------|
| 灰烬 | 一张孤立的牌 | 10 |
| 魂组 | 两张相同点数的牌 | 15 |
| 魂链 | 三张连续同花色的牌 | 25 |
| 刻印 | 三张相同点数的牌 | 40 |
| 王印 | 四张相同点数的牌 | 60 |

### 后续改进计划

1. **视觉反馈增强**：
   - 为队列中的卡牌添加视觉高亮效果
   - 为不同组合类型添加独特的视觉特效
   - 添加组合触发时的动画效果

2. **音频反馈**：
   - 为打出卡牌添加音效
   - 为不同组合类型添加独特的音效
   - 添加组合触发时的音乐变化

3. **平衡性调整**：
   - 根据游戏测试调整组合分数
   - 优化特殊卡牌效果
   - 增加更多战略性选择

4. **界面优化**：
   - 改进队列区域的视觉设计
   - 添加组合预览功能
   - 提供卡牌效果的详细说明
